<%= form_for @project do |f| %>

  <p>
    <%= f.label :name %>
    <%= f.text_field :name %>
  <p>

  <h4>Api Docs</h4>
  <p>
    <%= f.label :swagger_definitions %>
    <% unless @project.swagger_definitions.blank? %>
      <ul>
        <%= f.fields_for :swagger_definitions do |sf| %>
          <li>
            <% if sf.object.definition.url.present? %>
              <%= link_to(sf.object.name, swagger_engine.root_path(url: sf.object.definition.url), target: :blank) %>
            <% else %>
              new definition
            <% end %>
            <p>
              <%= sf.label :name %>
              <%= sf.text_field :name %>
            <p>
            <p>
              <%= sf.label :definition %>
              <%= sf.file_field :definition %>
            </p>
          </li>
        <% end %>
      </ul>
    <% end %>
  <p>

  <h4>Links</h4>
  <p>
    <%= f.label :links %>
    <% unless @project.links.blank? %>
      <ul>
        <%= f.fields_for :links do |sf| %>
          <li>
            <% if sf.object.logo.url.present? %>
              <%= image_tag(sf.object.logo.url, height: 50) %>
            <% end %>
            <p>
              <%= sf.label :name %>
              <%= sf.text_field :name %>
            <p>
            <p>
              <%= sf.label :url %>
              <%= sf.text_field :url %>
            <p>
            <p>
              <%= sf.label :logo %>
              <%= sf.file_field :logo %>
            </p>
          </li>
        <% end %>
      </ul>
    <% end %>
  <p>

  <p>
    <%= f.label :notes %>
    <%= f.text_area :notes, cols: 40, rows: 20 %>
  <p>

  <p>
    <%= f.submit %>
  </p>
<% end %>
